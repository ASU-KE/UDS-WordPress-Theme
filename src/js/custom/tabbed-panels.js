/**
 * File tabbed-panels.js.
 *
 * JS for tabbed panels block.
 *
 */
function initTabs(){const slideNav=(clicked,e,direction)=>{e.preventDefault();const parentNav=Array.from(clicked.parentElement.children).filter((child=>child.classList.contains("nav-tabs")));let scrollPosition=parseInt(parentNav[0].dataset.scrollPosition,10);const navItems=Array.from(parentNav[0].querySelectorAll(".nav-item")),sanitizedLeftValue=getComputedStyle(parentNav[0]).left.replace("px","");let scrollOffset=parseInt(sanitizedLeftValue,10);1===direction&&scrollPosition>0&&(scrollPosition-=1),scrollPosition<navItems.length-1&&-1==direction&&(scrollPosition+=1),parentNav[0].dataset.scrollPosition=scrollPosition,scrollOffset=0;for(var i=0;i<scrollPosition;i++)scrollOffset+=navItems[i].offsetWidth+parseInt(getComputedStyle(navItems[i]).marginLeft,10)+parseInt(getComputedStyle(navItems[i]).marginRight,10);parentNav[0].scrollLeft=scrollOffset,setControlVisibility(clicked,scrollOffset)},setControlVisibility=(clicked,scrollOffset)=>{const parentContainer=clicked.closest(".uds-tabbed-panels"),parentNav=parentContainer.querySelector(".nav-tabs"),scrollPosition=parseInt(parentNav.dataset.scrollPosition,10),tabPosition=parentNav.scrollWidth-scrollOffset;parentContainer.querySelector(".scroll-control-prev").style.display=0==scrollPosition?"none":"block",tabPosition<=parentContainer.offsetWidth?parentContainer.querySelector(".scroll-control-next").style.display="none":parentContainer.querySelector(".scroll-control-next").style.display="block"};window.addEventListener("load",(function windowLoad(){window.removeEventListener("load",windowLoad),document.addEventListener("click",(function(e){(e=>{["a","button"].includes(e.target.localName)&&e.target.focus()})(e)}));document.querySelectorAll(".nav-item").forEach((tabTitle=>{tabTitle.addEventListener("focus",(function(e){tabTitle.scrollIntoView()}))})),document.querySelectorAll(".uds-tabbed-panels").forEach((item=>{const nav=item.querySelector(".nav-tabs");nav.addEventListener("scroll",(event=>{const scrollPos=event.target.scrollLeft,prevButton=item.querySelector(".scroll-control-prev"),nextButton=item.querySelector(".scroll-control-next"),atFarRight=nav.offsetWidth+scrollPos+3>=nav.scrollWidth;prevButton.style.display=0===scrollPos?"none":"block",nextButton.style.display=atFarRight?"none":"block"}))})),document.querySelector(".scroll-control-next").addEventListener("click",(function(e){window.innerWidth>992&&slideNav(this,e,-1)})),document.querySelector(".scroll-control-prev").addEventListener("click",(function(e){window.innerWidth>992&&slideNav(this,e,1)})),document.querySelector(".uds-tabbed-panels .scroll-control-prev").style.display="none";document.querySelector(".nav-tabs").scrollWidth<=document.querySelector(".uds-tabbed-panels").offsetWidth&&(document.querySelector(".uds-tabbed-panels .scroll-control-next").style.display="none")}))}
